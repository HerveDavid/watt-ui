{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators.js\";\n\n@customElement(\"watt-input\")\nexport class WattInput extends LitElement {\n  static override styles = css`\n    :host {\n      display: block;\n      font-family: var(--n-font-family);\n    }\n\n    :host([expand]) {\n      width: 100%;\n    }\n\n    .input-container {\n      display: flex;\n      flex-direction: column;\n      gap: var(--n-space-xs);\n    }\n\n    .input-wrapper {\n      display: flex;\n      align-items: center;\n      position: relative;\n      width: 100%;\n    }\n\n    label {\n      color: var(--n-color-text);\n      font-size: var(--n-font-size-s);\n      font-weight: var(--n-font-weight);\n      line-height: var(--n-line-height-caption);\n    }\n\n    input {\n      width: 100%;\n      padding: var(--n-space-xs) var(--n-space-m);\n      border: 1px solid var(--n-color-border);\n      border-radius: var(--n-border-radius);\n      font-family: inherit;\n      font-size: var(--n-font-size-m);\n      line-height: var(--n-line-height-form);\n      color: var(--n-color-text);\n      background: white;\n      transition: all var(--n-transition-slowly);\n    }\n\n    /* Size variations */\n    :host([size=\"s\"]) input {\n      padding: calc(var(--n-space-xs) / 2) var(--n-space-s);\n      font-size: var(--n-font-size-s);\n    }\n\n    :host([size=\"l\"]) input {\n      padding: var(--n-space-s) var(--n-space-m);\n      font-size: var(--n-font-size-l);\n    }\n\n    /* States */\n    input:hover:not(:disabled) {\n      border-color: var(--n-color-border-hover);\n    }\n\n    input:focus {\n      outline: none;\n      border-color: var(--n-color-accent);\n      box-shadow: var(--n-box-shadow);\n    }\n\n    :host([error]) input {\n      border-color: var(--n-color-status-danger);\n    }\n\n    :host([readonly]) input {\n      background-color: var(--n-color-surface-lowered);\n      cursor: default;\n    }\n\n    :host([disabled]) input {\n      cursor: not-allowed;\n      background: var(--n-color-surface-lowered);\n      border-color: var(--n-color-text-weakest);\n      color: var(--n-color-text-weakest);\n    }\n\n    input::placeholder {\n      color: var(--n-color-text-weak);\n    }\n\n    .required {\n      color: var(--n-color-status-danger);\n      margin-left: var(--n-space-xs);\n    }\n\n    .helper-text {\n      font-size: var(--n-font-size-s);\n      line-height: var(--n-line-height-caption);\n      color: var(--n-color-text-weak);\n    }\n\n    :host([error]) .helper-text {\n      color: var(--n-color-status-danger);\n    }\n\n    .visually-hidden {\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      padding: 0;\n      margin: -1px;\n      overflow: hidden;\n      clip: rect(0, 0, 0, 0);\n      white-space: nowrap;\n      border: 0;\n    }\n\n    ::slotted([slot=\"start\"]) {\n      margin-right: var(--n-space-xs);\n    }\n\n    ::slotted([slot=\"end\"]) {\n      margin-left: var(--n-space-xs);\n    }\n  `;\n\n  @query(\"input\")\n  private input!: HTMLInputElement;\n\n  @property({ type: String })\n  type:\n    | \"text\"\n    | \"email\"\n    | \"password\"\n    | \"tel\"\n    | \"url\"\n    | \"search\"\n    | \"number\"\n    | \"unit\"\n    | \"button\" = \"text\";\n\n  @property({ type: String })\n  label = \"\";\n\n  @property({ type: String })\n  value = \"\";\n\n  @property({ type: String })\n  placeholder = \"\";\n\n  @property({ type: String })\n  name = \"\";\n\n  @property({ type: String })\n  size: \"s\" | \"m\" | \"l\" = \"m\";\n\n  @property({ type: Boolean, reflect: true })\n  expand = false;\n\n  @property({ type: String })\n  disallowPattern?: string;\n\n  @property({ type: Boolean })\n  hideLabel = false;\n\n  @property({ type: String })\n  hint?: string;\n\n  @property({ type: String })\n  error?: string;\n\n  @property({ type: Boolean, reflect: true })\n  required = false;\n\n  @property({ type: Boolean })\n  hideRequired = false;\n\n  @property({ type: String })\n  autocomplete: string = \"off\";\n\n  @property({ type: Boolean, reflect: true })\n  readonly = false;\n\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  select() {\n    this.input?.select();\n  }\n\n  setSelectionRange(\n    start: number,\n    end: number,\n    direction?: \"forward\" | \"backward\" | \"none\"\n  ) {\n    this.input?.setSelectionRange(start, end, direction);\n  }\n\n  setRangeText(\n    replacement: string,\n    start?: number,\n    end?: number,\n    selectMode?: \"select\" | \"start\" | \"end\" | \"preserve\"\n  ) {\n    if (this.input) {\n      // Si start/end ne sont pas fournis, utilise la s√©lection actuelle\n      const selStart =\n        start !== undefined ? start : this.input.selectionStart || 0;\n      const selEnd = end !== undefined ? end : this.input.selectionEnd || 0;\n\n      this.input.setRangeText(\n        replacement,\n        selStart,\n        selEnd,\n        selectMode || \"preserve\"\n      );\n    }\n  }\n\n  getNativeElement(): HTMLInputElement {\n    return this.input;\n  }\n\n  override focus(options?: FocusOptions) {\n    this.input?.focus(options);\n  }\n\n  override blur() {\n    this.input?.blur();\n  }\n\n  override click() {\n    this.input?.click();\n  }\n\n  private handleInput(e: Event) {\n    const target = e.target as HTMLInputElement;\n    this.value = target.value;\n\n    this.dispatchEvent(\n      new CustomEvent(\"watt-input\", {\n        detail: {\n          value: this.value,\n          originalEvent: e,\n        },\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  private handleChange(e: Event) {\n    const target = e.target as HTMLInputElement;\n    this.value = target.value;\n\n    this.dispatchEvent(\n      new CustomEvent(\"watt-change\", {\n        detail: {\n          value: this.value,\n          originalEvent: e,\n        },\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  override render() {\n    return html`\n      <div class=\"input-container\">\n        ${this.label\n          ? html`\n              <label\n                for=\"input-${this.name}\"\n                class=\"${this.hideLabel ? \"visually-hidden\" : \"\"}\"\n              >\n                ${this.label}\n                ${this.required && !this.hideRequired\n                  ? html`<span class=\"required\">*</span>`\n                  : \"\"}\n              </label>\n            `\n          : \"\"}\n\n        <div class=\"input-wrapper\">\n          <slot name=\"start\"></slot>\n          <input\n            id=\"input-${this.name}\"\n            type=${this.type}\n            .value=${this.value}\n            placeholder=${this.placeholder || \"\"}\n            ?disabled=${this.disabled}\n            ?required=${this.required}\n            ?readonly=${this.readonly}\n            name=${this.name || \"\"}\n            autocomplete=${this.autocomplete}\n            pattern=${this.disallowPattern ? `[^${this.disallowPattern}]*` : \"\"}\n            @input=${this.handleInput}\n            @change=${this.handleChange}\n            @select=${(e: Event) =>\n              this.dispatchEvent(\n                new CustomEvent(\"select\", {\n                  detail: { originalEvent: e },\n                  bubbles: true,\n                  composed: true,\n                })\n              )}\n          />\n          <slot name=\"end\"></slot>\n        </div>\n\n        ${this.hint || this.error\n          ? html` <div class=\"helper-text\">${this.error || this.hint}</div> `\n          : \"\"}\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"watt-input\": WattInput;\n  }\n}\n"]}